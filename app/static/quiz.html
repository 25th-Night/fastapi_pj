<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>QuizBot</title>
    <link href="style.css" rel="stylesheet">
</head>

<body>
    <div class="theme">
        <h1>🆀 퀴즈 문제 만들기</h1>
        <form method="post" action="#" id="quiz">
            <input type="text" name="question" placeholder="문제" required="required" />
            <textarea name="content" placeholder="1️. 보기&#10;2️. 보기&#10;3️. 보기&#10;4️. 보기" rows=6
                required="required"></textarea>
            <input type="number" name="answer" placeholder="정답" min="1" required="required" />
            <button type="submit" class="btn btn-primary btn-block btn-large" onclick="submitData()">만들기</button>
        </form>
    </div>
    <script>
        function submitData(question, content, answer) {
            document.querySelectorAll('input').forEach(function(element) {
                element.addEventListener('keydown', function(event) {
                    if (event.keyCode === 13) {
                        event.preventDefault();
                    }
                });
            });
            let form = new FormData(document.getElementById('quiz'));
            fetch('/v1/quizzes/form', {
                method: 'POST',
                body: form,
            }).then(response => {
                if (response.ok) {
                    alert("Quiz Created Successfully")
                    location.reload();
                }
                throw new Error('network error');
            }).catch(error => {
                console.log(error);
            });
        }
    </script>
</body>

</html>